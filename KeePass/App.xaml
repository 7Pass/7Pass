<Application 
    x:Class="KeePass.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"       
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ms="clr-namespace:Microsoft.Unsupported"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:system="clr-namespace:System;assembly=mscorlib">

    <Application.Resources>
        <system:String x:Key="AppName">7Pass</system:String>
        <Style x:Key="ItemsList" TargetType="ListBox">
            <Setter Property="ms:TiltEffect.IsTiltEnabled" Value="True" />
            <Setter Property="ItemTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Name="fadeIn">
                            <StackPanel.Triggers>
                                <EventTrigger RoutedEvent="StackPanel.Loaded">
                                    <BeginStoryboard>
                                        <BeginStoryboard.Storyboard>
                                            <Storyboard>
                                                <DoubleAnimation Duration="0:0:0.7" From="0" To="1"
                                                                     Storyboard.TargetName="fadeIn"
                                                                     Storyboard.TargetProperty="Opacity">
                                                    <DoubleAnimation.EasingFunction>
                                                        <PowerEase EasingMode="EaseOut"/>
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                            </Storyboard>
                                        </BeginStoryboard.Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </StackPanel.Triggers>

                            <Grid Width="50" Height="50">
                                <Image Source="{Binding Icon}" Stretch="None"
                                       VerticalAlignment="Stretch"
                                       HorizontalAlignment="Stretch" />
                                <Image Source="{Binding Overlay}" Stretch="None"
                                       VerticalAlignment="Bottom"
                                       HorizontalAlignment="Right"
                                       Margin="0,0,8,8" />
                            </Grid>

                            <StackPanel Margin="0,0,0,17" Width="432">
                                <TextBlock Text="{Binding Title}" TextWrapping="Wrap"
                                           MaxHeight="120"
                                           Style="{StaticResource PhoneTextExtraLargeStyle}"/>
                                <TextBlock Text="{Binding Notes}" TextWrapping="Wrap"
                                           Margin="12,-6,12,0" MaxHeight="112"
                                           Style="{StaticResource PhoneTextSubtleStyle}"/>
                            </StackPanel>
                        </StackPanel>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Application.Resources>

    <Application.ApplicationLifetimeObjects>
        <shell:PhoneApplicationService 
            Launching="Application_Launching" Closing="Application_Closing" 
            Activated="Application_Activated" Deactivated="Application_Deactivated"/>
    </Application.ApplicationLifetimeObjects>

</Application>